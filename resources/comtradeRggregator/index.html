<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>comtradeRggregator: Download and Reclassify Comtrade Trade Data • comtradeRggregator</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="comtradeRggregator: Download and Reclassify Comtrade Trade Data">
<meta property="og:description" content="The goal of the `comtradeRggregator` package is to provide a simple 
    tool to download and reclassify large chunks of trade data. It offers 
    functionality to download and aggregate [Comtrade](https://comtrade.un.org) 
    trade data using [Comtrade's API](https://comtrade.un.org/data/doc/api/) by 
    building on the [comtradr](https://github.com/ropensci/comtradr) package. 
    Furthermore, it provides a function for easy reclassification of trade data 
    using official concordance tables from the [United Nations Statistical Division 
    (UNSD)](https://unstats.un.org/unsd/trade/classifications/correspondence-tables.asp) 
    and the [World Integrated Trade Solution (WITS)](https://wits.worldbank.org/product_concordance.html).">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">comtradeRggregator</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/comtradeRggregator.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/handling-errors.html">Handling error messages</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/amannj/comtradeRggregator/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="comtraderggregator-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#comtraderggregator-" class="anchor"></a>comtradeRggregator <img src="reference/figures/logo1.png" align="right" height="139">
</h1></div>
<!-- badges: start -->

<p>The goal of the <code>comtradeRggregator</code> package is to provide a simple tool to download and reclassify large chunks of <a href="https://comtrade.un.org">Comtrade trade data</a>.</p>
<p>The package offers functionality to download and aggregate <a href="https://comtrade.un.org">Comtrade trade data</a> using <a href="https://comtrade.un.org/data/doc/api/">Comtrade’s API</a> by building on the <a href="https://github.com/ropensci/comtradr">comtradr</a> package. Furthermore, it offers tools for easy reclassification of trade data using official concordance tables from the <a href="https://unstats.un.org/unsd/trade/classifications/correspondence-tables.asp">United Nations Statistical Division (UNSD)</a> and the <a href="https://wits.worldbank.org/product_concordance.html">World Integrated Trade Solution (WITS)</a>.</p>
<hr>
</div>
<div id="why-this-package" class="section level1">
<h1 class="hasAnchor">
<a href="#why-this-package" class="anchor"></a>Why this package?</h1>
<div id="at-a-glance" class="section level2">
<h2 class="hasAnchor">
<a href="#at-a-glance" class="anchor"></a>At a glance</h2>
<p><code>comtradeRggregator</code> attempts to bring together a set of convenient features for bulk <a href="https://comtrade.un.org">Comtrade trade data</a> download and reclassification that are absent from either the <a href="https://comtrade.un.org">Comtrade</a> or <a href="https://wits.worldbank.org/">WITS</a> web interfaces:</p>
<table class="table">
<colgroup>
<col width="31%">
<col width="24%">
<col width="18%">
<col width="24%">
</colgroup>
<thead><tr class="header">
<th>Feature</th>
<th><a href="https://comtrade.un.org">Comtrade</a></th>
<th><a href="https://wits.worldbank.org/">WITS</a></th>
<th><code>comtradeRggregator</code></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Incorporating recent data updates and revisions</td>
<td>yes</td>
<td>with delay</td>
<td>yes (via Comtrade)</td>
</tr>
<tr class="even">
<td>Extraction of monthly trade data</td>
<td>yes</td>
<td>no</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>Advanced querying and bulk download without registration</td>
<td>no</td>
<td>no</td>
<td>yes, but slow</td>
</tr>
<tr class="even">
<td>Reclassification of trade data according to official standards</td>
<td>no</td>
<td>selectively</td>
<td>yes</td>
</tr>
<tr class="odd">
<td>API integration in R</td>
<td><a href="https://github.com/ropensci/comtradr">comtradr</a></td>
<td>no</td>
<td><a href="https://github.com/ropensci/comtradr">comtradr</a></td>
</tr>
<tr class="even">
<td>Designated option to download mirror trade data</td>
<td>no</td>
<td>no</td>
<td>yes</td>
</tr>
</tbody>
</table>
</div>
<div id="features" class="section level2">
<h2 class="hasAnchor">
<a href="#features" class="anchor"></a>Features</h2>
<ul>
<li><p>Downloads and aggregates <a href="https://comtrade.un.org/data">Comtrade data</a> using <a href="https://comtrade.un.org/data/doc/api/">Comtrade’s API</a> building on the <a href="https://github.com/ropensci/comtradr">comtradr</a> package by offering more functionality for bulk and mirror data downloads.</p></li>
<li><p>Supports extraction of trade data for individual countries (<em>‘from country A to country B’</em>) as well as bulk downloads of multiple countries (<em>‘from group of countries C to group of countries D’</em>) as well as aggregated global trade data (<em>‘from country (a group of countries) E to the World’</em>).</p></li>
<li><p>Supports many key features of <a href="https://github.com/ropensci/comtradr">comtradr</a> such as the option to download trade data following different trade classifications offered by <a href="https://comtrade.un.org/data">Comtrade</a>; see <a href="https://comtrade.un.org/data/doc/api/#DataAvailabilityRequests">Comtrade API Data Availability Request</a> for more information. The full list of possible trade classifications and their corresponding input arguments used in the <code>comtradeRggregator</code> package are provided in table <a href="https://github.com/amannj/comtradeRggregator#trade-classifications">Trade Classifications</a>:</p></li>
</ul>
<div id="trade-classifications" class="section level3">
<h3 class="hasAnchor">
<a href="#trade-classifications" class="anchor"></a>Trade Classifications</h3>
<table class="table">
<colgroup>
<col width="37%">
<col width="31%">
<col width="30%">
</colgroup>
<thead><tr class="header">
<th>Description</th>
<th>Trade code; use either version as input for argument</th>
<th>Level of (dis-)aggregation for input argument <code>ag</code>
</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>HS combined, as reported</td>
<td><code>HS</code></td>
<td>
<code>TOTAL</code>,<code>AG2</code>, <code>AG4</code>, <code>AG6</code>
</td>
</tr>
<tr class="even">
<td>HS 1988/1992</td>
<td>
<code>HS1992</code>, <code>H0</code>
</td>
<td>
<code>TOTAL</code>,<code>AG2</code>, <code>AG4</code>, <code>AG6</code>
</td>
</tr>
<tr class="odd">
<td>HS 1996</td>
<td>
<code>HS1996</code>, <code>H1</code>
</td>
<td>
<code>TOTAL</code>,<code>AG2</code>, <code>AG4</code>, <code>AG6</code>
</td>
</tr>
<tr class="even">
<td>HS 2002</td>
<td>
<code>HS2002</code>, <code>H2</code>
</td>
<td>
<code>TOTAL</code>,<code>AG2</code>, <code>AG4</code>, <code>AG6</code>
</td>
</tr>
<tr class="odd">
<td>HS 2007</td>
<td>
<code>HS2007</code>, <code>H3</code>
</td>
<td>
<code>TOTAL</code>,<code>AG2</code>, <code>AG4</code>, <code>AG6</code>
</td>
</tr>
<tr class="even">
<td>HS 2012</td>
<td>
<code>HS2012</code>, <code>H4</code>
</td>
<td>
<code>TOTAL</code>,<code>AG2</code>, <code>AG4</code>, <code>AG6</code>
</td>
</tr>
<tr class="odd">
<td>HS 2017</td>
<td>
<code>HS2017</code>, <code>H5</code>
</td>
<td>
<code>TOTAL</code>,<code>AG2</code>, <code>AG4</code>, <code>AG6</code>
</td>
</tr>
<tr class="even">
<td>SITC Standard International Trade Classification, as reported</td>
<td>
<code>SITC</code>, <code>ST</code>
</td>
<td>
<code>TOTAL</code>,<code>AG1</code>, <code>AG2</code>, <code>AG3</code>, <code>AG4</code>, <code>AG5</code>
</td>
</tr>
<tr class="odd">
<td>SITC Revision 1</td>
<td>
<code>SITCrev1</code>, <code>S1</code>
</td>
<td>
<code>TOTAL</code>,<code>AG1</code>, <code>AG2</code>, <code>AG3</code>, <code>AG4</code>, <code>AG5</code>
</td>
</tr>
<tr class="even">
<td>SITC Revision 2</td>
<td>
<code>SITCrev2</code>, <code>S2</code>
</td>
<td>
<code>TOTAL</code>,<code>AG1</code>, <code>AG2</code>, <code>AG3</code>, <code>AG4</code>, <code>AG5</code>
</td>
</tr>
<tr class="odd">
<td>SITC Revision 3</td>
<td>
<code>SITCrev3</code>, <code>S3</code>
</td>
<td>
<code>TOTAL</code>,<code>AG1</code>, <code>AG2</code>, <code>AG3</code>, <code>AG4</code>, <code>AG5</code>
</td>
</tr>
<tr class="even">
<td>SITC Revision 4</td>
<td>
<code>SITCrev4</code>, <code>S4</code>
</td>
<td>
<code>TOTAL</code>,<code>AG1</code>, <code>AG2</code>, <code>AG3</code>, <code>AG4</code>, <code>AG5</code>
</td>
</tr>
<tr class="odd">
<td>Broad Economic Categories Rev. 4</td>
<td>
<code>BEC</code>, <code>BEC4</code>
</td>
<td>
<code>TOTAL</code>,<code>AG1</code>, <code>AG2</code>, <code>AG3</code>
</td>
</tr>
<tr class="even">
<td><del>Extended Balance of Payments Services Classification</del></td>
<td><del><code>EB02</code></del></td>
<td><del><code>TOTAL</code>, <code>ALL</code></del></td>
</tr>
</tbody>
</table>
<ul>
<li><p>Supports extraction of <code>annual</code> as well as <code>monthly</code> <a href="https://comtrade.un.org">Comtrade</a> trade data.</p></li>
<li><p>Provides function for easy reclassification of trade data using official concordance tables from the <a href="https://unstats.un.org/unsd/trade/classifications/correspondence-tables.asp">United Nations Statistical Division (UNSD)</a> and the <a href="https://wits.worldbank.org/product_concordance.html">World Integrated Trade Solution (WITS)</a>; see <a href="https://github.com/amannj/comtradeRggregator#concordance-table">Concordance Table</a> below. To access respective concordance tables in R, type <code>&lt;tradecode from&gt;_&lt;tradecode to&gt;</code>. For example, the concordance table for reclassifying <code>H3</code> trade data according to the <code>H0</code> nomenclature is stored as object <code>H3_H0</code> and its R help file can be accessed by typing <code><a href="reference/H3_H0.html">?H3_H0</a></code>.</p></li>
</ul>
</div>
<div id="concordance-table" class="section level3">
<h3 class="hasAnchor">
<a href="#concordance-table" class="anchor"></a>Concordance Table</h3>
<table class="table table">
<thead>
<tr>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
<p>From…</p>
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="20">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
<p>…to</p>
</div>
</th>
</tr>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
<p>BEC</p>
</div>
</th>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="3">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="5">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
<p>Harmonised System</p>
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
<p>ISIC</p>
</div>
</th>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="2">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
<p>SITC</p>
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
BEC4
</th>
<th style="text-align:left;">
BEC5
</th>
<th style="text-align:left;">
CCCN
</th>
<th style="text-align:left;">
CPC
</th>
<th style="text-align:left;">
GTAP
</th>
<th style="text-align:left;">
H0
</th>
<th style="text-align:left;">
H1
</th>
<th style="text-align:left;">
H2
</th>
<th style="text-align:left;">
H3
</th>
<th style="text-align:left;">
H4
</th>
<th style="text-align:left;">
I2
</th>
<th style="text-align:left;">
I3
</th>
<th style="text-align:left;">
I31
</th>
<th style="text-align:left;">
I4
</th>
<th style="text-align:left;">
MTN
</th>
<th style="text-align:left;">
SIC
</th>
<th style="text-align:left;">
S1
</th>
<th style="text-align:left;">
S2
</th>
<th style="text-align:left;">
S3
</th>
<th style="text-align:left;">
S4
</th>
</tr>
</thead>
<tbody>
<tr grouplength="7">
<td colspan="21" style="border-bottom: 1px solid;">
<strong>Harmonised System (HS)</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
HS
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
H0
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
H1
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
H2
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
H3
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
H4
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
H5
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
x<sup>a</sup>
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
</tr>
<tr grouplength="4">
<td colspan="21" style="border-bottom: 1px solid;">
<strong>Standard International Trade Classification (SITC)</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
S1
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
S2
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
S3
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
S4
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
</tr>
<tr grouplength="3">
<td colspan="21" style="border-bottom: 1px solid;">
<strong>International Standard Industrial Classification (ISIC)</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
I2
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
I3
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
I3.1
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<span style="font-style: italic;">Note: </span> <sup></sup> W for WITS; U for UN-Stats.
</td>
</tr>
<tr>
<td style="padding: 0; " colspan="100%">
<span style="font-style: italic;">x</span> <sup>a</sup> : Example for concordance across seemingly unrelated classifications: H5 &gt;&gt; H3 &gt;&gt; I3.
</td>
</tr>
</tfoot>
</table>
<ul>
<li>Supports extraction of <a href="https://wits.worldbank.org/wits/wits/witshelp/Content/Data_Retrieval/T/Intro/B2.Imports_Exports_and_Mirror.htm">mirrored Comtrade trade data</a>. This is useful as sometimes trade data between countries does not add up. For example, say, in 2020 country A reported USD <em>X</em> millions exports to country B while B was reporting USD <em>Y</em> millions, where <em>X</em> ≠ <em>Y</em>. In such cases it makes sense to use <a href="https://wits.worldbank.org/wits/wits/witshelp/Content/Data_Retrieval/T/Intro/B2.Imports_Exports_and_Mirror.htm">mirrored Comtrade trade data</a>.</li>
</ul>
<p><br></p>
</div>
</div>
</div>
<div id="further-notes" class="section level1">
<h1 class="hasAnchor">
<a href="#further-notes" class="anchor"></a>Further notes</h1>
<div id="using-up-to-date-trade-information" class="section level2">
<h2 class="hasAnchor">
<a href="#using-up-to-date-trade-information" class="anchor"></a>Using up-to-date trade information</h2>
<p>Data availability varies by country and classification, and new trade data is released/revised very frequently on <a href="https://comtrade.un.org/">Comtrade</a>. <code>comtradeRggregator</code> uses trade information corresponding to <a href="https://comtrade.un.org/data/da">official Comtrade data availability</a> which it updates once a day and stores locally on your machine:</p>
<p><code>&lt;your local package location&gt;/data/Comtrade_DataAvailability-&lt;date stamp&gt;.csv.gz</code></p>
<p>The locally stored Comtrade Data Availability file is used in every <code><a href="reference/download_Comtrade.html">download_Comtrade()</a></code> data query. In other words, if new data becomes available and is documented in the <a href="https://comtrade.un.org/data/da">official Comtrade data availability file</a>, <code>comtradeRggregator</code> will use this information no later than 24 hours after its publication. The Comtrade Data Availability file can be accessed in R by typing <code>Comtrade_DA</code>, and the corresponding help page can be accessed by typing <code><a href="reference/Comtrade_DA.html">?Comtrade_DA</a></code>.</p>
</div>
<div id="extraction-of-monthly-trade-data" class="section level2">
<h2 class="hasAnchor">
<a href="#extraction-of-monthly-trade-data" class="anchor"></a>Extraction of monthly trade data</h2>
<p>Monthly trade data is only reported as <em>HS Combined</em> (<code>HS</code>) which combines all revisions of the Harmonised System nomenclature. As a country reports its tariff scheduled for a given year in only one revision, that is <em>HS1988/1992</em> (<code>H0</code>), <em>HS1996</em> (<code>H1</code>) or <em>HS2002</em> (<code>H2</code>) etc., combining these different revisions enables users to choose products without having to know in which nomenclature a particular country reports in a particular year; see <a href="https://wits.worldbank.org/WITS/wits/WITSHELP/Content/Annex/Annex1.About_WITS_HS_Combined.htm">here</a> for more information on the <em>HS Combined</em> nomenclature.</p>
</div>
<div id="reclassification-of-trade-data-to-other-standards" class="section level2">
<h2 class="hasAnchor">
<a href="#reclassification-of-trade-data-to-other-standards" class="anchor"></a>Reclassification of trade data to other standards</h2>
<p>Reclassification of <a href="https://comtrade.un.org">Comtrade trade data</a> is possible using the information in the <a href="https://github.com/amannj/comtradeRggregator#concordance-table">Concordance Table</a> by employing the function <code><a href="reference/convert_Comtrade.html">convert_Comtrade()</a></code>. The function requires trade data at most granular levels for the <em>Harmonised System (HS)</em>, which is the aggregation level <code>AG6</code>, and for the <em>International Standard Industrial Classification (ISIC)</em> standard (<code>AG4</code>); see <a href="https://github.com/amannj/comtradeRggregator#trade-classifications">Trade Classifications</a> for more information. For the <em>Standard International Trade Classification (SITC)</em> standard, <code>AG4</code> as well as <code>AG5</code> is required.</p>
<hr>
</div>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<p>To install the latest development version of <code>comtradeRggregator</code> directly from <a href="https://github.com/amannj/comtradeRggregator">GitHub</a>, use:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Download `comtradeRggregator`; private repository, requires `auth_token`.</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"amannj/comtradeRggregator"</span>,
  ref <span class="op">=</span> <span class="st">"master"</span>,
  auth_token <span class="op">=</span> <span class="st">"..."</span>,
  force <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
<p>Note that you will need <a href="https://github.com/amannj/comtradr/tree/sitc-bug">this</a> bug fix from the <code>comtradr</code> package which is listed as a dependency for this package. Alternatively, it can be installed by running:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Download `comtradr` to use some minor bug fixes</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"amannj/comtradr"</span>,
  ref <span class="op">=</span> <span class="st">"sitc-bug"</span>,
  force <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
<hr>
</div>
<div id="get-started" class="section level1">
<h1 class="hasAnchor">
<a href="#get-started" class="anchor"></a>Get started</h1>
<p>First, load the package.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/amannj/comtradeRggregator">comtradeRggregator</a></span><span class="op">)</span></code></pre></div>
<p>The main functions of the <code>comtradeRggregator</code> package are described below.</p>
<div id="download_comtrade" class="section level2">
<h2 class="hasAnchor">
<a href="#download_comtrade" class="anchor"></a><code>download_Comtrade()</code>
</h2>
<p>Function <code><a href="reference/download_Comtrade.html">download_Comtrade()</a></code> downloads and aggregates <a href="https://comtrade.un.org">Comtrade</a> trade data using <a href="https://comtrade.un.org/data/doc/api/">Comtrade’s API</a> and builds on the <a href="https://github.com/ropensci/comtradr">comtradr</a> package. For the full documentation, type <code><a href="reference/download_Comtrade.html">?download_Comtrade</a></code> in R or visit the reference section of <code><a href="reference/download_Comtrade.html">download_Comtrade()</a></code>.</p>
<div id="example-1" class="section level4">
<h4 class="hasAnchor">
<a href="#example-1" class="anchor"></a>Example 1</h4>
<p>To download <code>annual</code> global, i.e. <code>World</code>, <code>commodity</code> trade data in <code>USD</code> following the <code>HS2007</code> nomenclature for <code>all</code> available trade flows, i.e. imports, exports as well as as <a href="https://wits.worldbank.org/WITS/wits/WITSHELP/Content/Data_Retrieval/T/Intro/B2.Exports_Versus_Reexports.htm">re-imports and re-exports</a>, at <code>AG6</code> level reported by <code>Austria</code> in <code>2018</code>, run:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">AT_World</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_Comtrade.html">download_Comtrade</a></span><span class="op">(</span>
  year <span class="op">=</span> <span class="st">"2018"</span>,
  frequency <span class="op">=</span> <span class="st">"annual"</span>,
  countries <span class="op">=</span> <span class="st">"Austria"</span>,
  partners <span class="op">=</span> <span class="st">"World"</span>,
  tradecode <span class="op">=</span> <span class="st">"HS2007"</span>,
  ag <span class="op">=</span> <span class="st">"AG6"</span>,
  type <span class="op">=</span> <span class="st">"commodities"</span>,
  select.stats <span class="op">=</span> <span class="st">"trade_value_usd"</span>,
  direction <span class="op">=</span> <span class="st">"all"</span>
<span class="op">)</span>
<span class="va">AT_World</span>
<span class="co">#&gt; # A tibble: 9,432 x 8</span>
<span class="co">#&gt;    classification period trade_flow reporter partner commodity_code commodity   </span>
<span class="co">#&gt;    &lt;chr&gt;           &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;          &lt;chr&gt;       </span>
<span class="co">#&gt;  1 H3               2018 Export     Austria  World   010110         Live horses~</span>
<span class="co">#&gt;  2 H3               2018 Import     Austria  World   010190         Live horses~</span>
<span class="co">#&gt;  3 H3               2018 Export     Austria  World   010190         Live horses~</span>
<span class="co">#&gt;  4 H3               2018 Import     Austria  World   010210         Live bovine~</span>
<span class="co">#&gt;  5 H3               2018 Export     Austria  World   010210         Live bovine~</span>
<span class="co">#&gt;  6 H3               2018 Import     Austria  World   010290         Live bovine~</span>
<span class="co">#&gt;  7 H3               2018 Export     Austria  World   010290         Live bovine~</span>
<span class="co">#&gt;  8 H3               2018 Import     Austria  World   010310         Live swine:~</span>
<span class="co">#&gt;  9 H3               2018 Export     Austria  World   010310         Live swine:~</span>
<span class="co">#&gt; 10 H3               2018 Import     Austria  World   010391         Live swine ~</span>
<span class="co">#&gt; # ... with 9,422 more rows, and 1 more variable: trade_value_usd &lt;dbl&gt;</span></code></pre></div>
</div>
<div id="example-2" class="section level3">
<h3 class="hasAnchor">
<a href="#example-2" class="anchor"></a>Example 2</h3>
<p>Sometimes you might want to extract very specific information on particular trade flows between two countries.</p>
<p>For example, in order to extract <code>commodity</code> <code>re-exports</code> reported by <code>Austria</code> at <code>AG6</code> level following hte <code>HS2007</code> nomenclature for trade with <code>Germany</code> in <code>2018</code>, run the command below. As you can see, this returns an empty data frame. This means that there is no trade data recorded on <a href="https://comtrade.un.org">Comtrade</a> that meets the specific criteria.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/download_Comtrade.html">download_Comtrade</a></span><span class="op">(</span>
  year <span class="op">=</span> <span class="st">"2018"</span>,
  frequency <span class="op">=</span> <span class="st">"annual"</span>,
  countries <span class="op">=</span> <span class="st">"Austria"</span>,
  partners <span class="op">=</span> <span class="st">"Germany"</span>,
  tradecode <span class="op">=</span> <span class="st">"HS2007"</span>,
  ag <span class="op">=</span> <span class="st">"AG6"</span>,
  type <span class="op">=</span> <span class="st">"commodities"</span>,
  select.stats <span class="op">=</span> <span class="st">"trade_value_usd"</span>,
  direction <span class="op">=</span> <span class="st">"re_exports"</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 0 x 0</span></code></pre></div>
</div>
<div id="example-3" class="section level3">
<h3 class="hasAnchor">
<a href="#example-3" class="anchor"></a>Example 3</h3>
<p>Sometimes trade data between countries does not “add up”: For example, in 2020 country A reported USD <em>X</em> millions exports to country B while B was reporting USD <em>Y</em> millions, where <em>X</em> ≠ <em>Y</em>. In such cases it makes sense to use <a href="https://wits.worldbank.org/wits/wits/witshelp/Content/Data_Retrieval/T/Intro/B2.Imports_Exports_and_Mirror.htm">mirrored trade data</a>. The function <code><a href="reference/download_Comtrade.html">download_Comtrade()</a></code> offers an easy option to accomplish this. The relation of the queries used for the extraction of trade data and mirrored trade data is illustrated in the example below:</p>
<p>Reported imports by Germany from Austria and reported mirrored exports by Austria to Germany are identical by definition.<sup><a href="#fn1">1</a></sup> Note that in the query below we can use either <code>tradecode</code> names or abbreviations as input arguments for <code>tradecode</code> as provided in table <a href="#trade-classifications">Trade Classifications</a>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">IM_DE_AT</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_Comtrade.html">download_Comtrade</a></span><span class="op">(</span>
  year <span class="op">=</span> <span class="st">"2018"</span>,
  frequency <span class="op">=</span> <span class="st">"annual"</span>,
  countries <span class="op">=</span> <span class="st">"Germany"</span>,
  partners <span class="op">=</span> <span class="st">"Austria"</span>,
  tradecode <span class="op">=</span> <span class="st">"HS2007"</span>,
  ag <span class="op">=</span> <span class="st">"ag6"</span>,
  select.stats <span class="op">=</span> <span class="st">"trade_value_usd"</span>,
  direction <span class="op">=</span> <span class="st">"imports"</span>,
  type <span class="op">=</span> <span class="st">"commodities"</span>,
  is.mirrorData <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span>
<span class="va">mirrX_AT_DE</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_Comtrade.html">download_Comtrade</a></span><span class="op">(</span>
  year <span class="op">=</span> <span class="st">"2018"</span>,
  frequency <span class="op">=</span> <span class="st">"annual"</span>,
  countries <span class="op">=</span> <span class="st">"Austria"</span>,
  partners <span class="op">=</span> <span class="st">"Germany"</span>,
  tradecode <span class="op">=</span> <span class="st">"H3"</span>,
  ag <span class="op">=</span> <span class="st">"ag6"</span>,
  select.stats <span class="op">=</span> <span class="st">"trade_value_usd"</span>,
  direction <span class="op">=</span> <span class="st">"exports"</span>,
  type <span class="op">=</span> <span class="st">"commodities"</span>,
  is.mirrorData <span class="op">=</span> <span class="cn">TRUE</span>,
  rm.temporaryFiles <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span>
<span class="va">IM_DE_AT</span> <span class="op">%&gt;%</span>
  <span class="fu">summarise</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">trade_value_usd</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">pull</span><span class="op">(</span><span class="op">)</span> <span class="op">/</span> <span class="va">mirrX_AT_DE</span> <span class="op">%&gt;%</span>
    <span class="fu">summarise</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">trade_value_usd</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">pull</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] 1</span></code></pre></div>
</div>
<div id="example-4" class="section level3">
<h3 class="hasAnchor">
<a href="#example-4" class="anchor"></a>Example 4</h3>
<p>Note that in <em>Example 3</em> above, we have instructed <code><a href="reference/download_Comtrade.html">download_Comtrade()</a></code> to keep the temporary download files (by invoking <code>rm.temporaryFiles = FALSE</code>) for query <code>mirrX_AT_DE</code> while also using this temporary data to build the completed Comtrade data from the query and load it into R. The second step happens automatically as the argument controlling this behaviour, <code>build.Comtrade</code> is set to <code>TRUE</code> by default. However, there might be cases where you only want <code><a href="reference/download_Comtrade.html">download_Comtrade()</a></code> to download the temporary trade data files from Comtrade, and build the trade data in R at a later stage using <code>build_comtrade()</code>; more on <code>build_comtrade()</code> <a href="#build_comtrade">below</a>.</p>
<p>Below, we instruct <code><a href="reference/download_Comtrade.html">download_Comtrade()</a></code> to run the same query as for <code>mirrX_AT_DE</code> in <em>Example 3</em>; however, by setting <code>build.Comtrade = FALSE</code> and <code>rm.temporaryFiles = FALSE</code> we ensure that the trade data downloaded from Comtrade will only be stored locally but not build and loaded into R.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mirrX_AT_DE_v2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_Comtrade.html">download_Comtrade</a></span><span class="op">(</span>
  year <span class="op">=</span> <span class="st">"2018"</span>,
  frequency <span class="op">=</span> <span class="st">"annual"</span>,
  countries <span class="op">=</span> <span class="st">"Austria"</span>,
  partners <span class="op">=</span> <span class="st">"Germany"</span>,
  tradecode <span class="op">=</span> <span class="st">"H3"</span>,
  ag <span class="op">=</span> <span class="st">"ag6"</span>,
  select.stats <span class="op">=</span> <span class="st">"trade_value_usd"</span>,
  direction <span class="op">=</span> <span class="st">"exports"</span>,
  type <span class="op">=</span> <span class="st">"commodities"</span>,
  is.mirrorData <span class="op">=</span> <span class="cn">TRUE</span>,
  rm.temporaryFiles <span class="op">=</span> <span class="cn">FALSE</span>,
  build.Comtrade <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span>
<span class="co">#&gt; Data download complete. Please see location specified in argument</span>
<span class="co">#&gt; `location.temporaryFiles` for location of temporary files.</span>
<span class="va">mirrX_AT_DE_v2</span>
<span class="co">#&gt; NULL</span></code></pre></div>
<hr>
</div>
</div>
<div id="isavailable_comtrade" class="section level2">
<h2 class="hasAnchor">
<a href="#isavailable_comtrade" class="anchor"></a><code>is.available_Comtrade()</code>
</h2>
<p>Sometimes you might want to check if data for a particular trade classification, frequency and/or country is available via <a href="https://comtrade.un.org">Comtrade</a> before running a query. For this you can use function <code><a href="reference/is.available_Comtrade.html">is.available_Comtrade()</a></code>. Similar to <code><a href="reference/download_Comtrade.html">download_Comtrade()</a></code> this function uses the <a href="https://comtrade.un.org/data/da">Comtrade Data Availability file</a> which it updates once a day.<sup><a href="#fn2">2</a></sup> For the full documentation, type <code><a href="reference/is.available_Comtrade.html">?is.available_Comtrade</a></code> in R or visit the reference section of <code><a href="reference/is.available_Comtrade.html">is.available_Comtrade()</a></code>.</p>
<div id="example-1-1" class="section level3">
<h3 class="hasAnchor">
<a href="#example-1-1" class="anchor"></a>Example 1</h3>
<p>To get a tibble listing all countries for which <code>annual</code>, <code>HS2007</code> trade data is available for the year <code>2008</code>, run:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">da1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/is.available_Comtrade.html">is.available_Comtrade</a></span><span class="op">(</span>
  frequency <span class="op">=</span> <span class="st">"annual"</span>,
  tradecode <span class="op">=</span> <span class="st">"H3"</span>,
  year <span class="op">=</span> <span class="st">'2008'</span>
<span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">da1</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6 x 2</span>
<span class="co">#&gt;   country               year</span>
<span class="co">#&gt;   &lt;chr&gt;                &lt;dbl&gt;</span>
<span class="co">#&gt; 1 China, Hong Kong SAR  2008</span>
<span class="co">#&gt; 2 Hungary               2008</span>
<span class="co">#&gt; 3 Iceland               2008</span>
<span class="co">#&gt; 4 Ireland               2008</span>
<span class="co">#&gt; 5 Israel                2008</span>
<span class="co">#&gt; 6 Italy                 2008</span></code></pre></div>
</div>
<div id="example-2-1" class="section level3">
<h3 class="hasAnchor">
<a href="#example-2-1" class="anchor"></a>Example 2</h3>
<p>Similarly, you might want to know if a particular country (set of countries) is available in a particular trade data set. To check if either <code>Austria</code> or <code>Germany</code> have <code>annual</code> trade data reported following the <code>HS2002</code> nomenclature for the year <code>2012</code>, run:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">da2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/is.available_Comtrade.html">is.available_Comtrade</a></span><span class="op">(</span>
  is.contained <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Austria"</span>, <span class="st">"Germany"</span><span class="op">)</span>,
  frequency <span class="op">=</span> <span class="st">"annual"</span>,
  tradecode <span class="op">=</span> <span class="st">"H2"</span>,
  year <span class="op">=</span> <span class="st">'2012'</span>
<span class="op">)</span>
<span class="va">da2</span>
<span class="co">#&gt; # A tibble: 2 x 2</span>
<span class="co">#&gt;   country  year</span>
<span class="co">#&gt;   &lt;chr&gt;   &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Austria  2012</span>
<span class="co">#&gt; 2 Germany  2012</span></code></pre></div>
<p>The same can also be done for monthly data. As seen below, only for <code>Germany</code>, <code>monthly</code> trade data for January 2020 following the <code>HS2007</code> is available.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">da3</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/is.available_Comtrade.html">is.available_Comtrade</a></span><span class="op">(</span>
  is.contained <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Austria"</span>, <span class="st">"Germany"</span><span class="op">)</span>,
  frequency <span class="op">=</span> <span class="st">"monthly"</span>,
  month <span class="op">=</span> <span class="st">"01"</span>,
  tradecode <span class="op">=</span> <span class="st">"H3"</span>,
  year <span class="op">=</span> <span class="st">'2020'</span>
<span class="op">)</span>
<span class="va">da3</span>
<span class="co">#&gt; # A tibble: 1 x 2</span>
<span class="co">#&gt;   country year   </span>
<span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt;  </span>
<span class="co">#&gt; 1 Germany 2020-01</span></code></pre></div>
</div>
<div id="example-3-1" class="section level3">
<h3 class="hasAnchor">
<a href="#example-3-1" class="anchor"></a>Example 3</h3>
<p>If <code>is.fuzzy = TRUE</code>, function <code><a href="reference/is.available_Comtrade.html">is.available_Comtrade()</a></code> supports fuzzy country name look-ups. As you can see below, there are two countries that contain a character sequence <code>ustr</code>, i.e. ‘Australia’ and ‘Austria’ for <code>annual</code> Comtrade data following the <code>H3</code>/<code>HS2017</code> nomenclature and the year <code>2019</code>. Monthly data is, however, only available for ‘Australia’.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/is.available_Comtrade.html">is.available_Comtrade</a></span><span class="op">(</span>
  is.contained <span class="op">=</span> <span class="st">"ustr"</span>,
  is.fuzzy <span class="op">=</span> <span class="cn">TRUE</span>,
  frequency <span class="op">=</span> <span class="st">"annual"</span>,
  tradecode <span class="op">=</span> <span class="st">"HS2017"</span>,
  year <span class="op">=</span> <span class="st">'2019'</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 2 x 2</span>
<span class="co">#&gt;   country    year</span>
<span class="co">#&gt;   &lt;chr&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Australia  2019</span>
<span class="co">#&gt; 2 Austria    2019</span>

<span class="fu"><a href="reference/is.available_Comtrade.html">is.available_Comtrade</a></span><span class="op">(</span>
  is.contained <span class="op">=</span> <span class="st">"ustr"</span>,
  is.fuzzy <span class="op">=</span> <span class="cn">TRUE</span>,
  frequency <span class="op">=</span> <span class="st">"monthly"</span>,
  tradecode <span class="op">=</span> <span class="st">"HS2017"</span>,
  year <span class="op">=</span> <span class="st">'2019'</span>,
  month <span class="op">=</span> <span class="st">'05'</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 x 2</span>
<span class="co">#&gt;   country   year   </span>
<span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt;  </span>
<span class="co">#&gt; 1 Australia 2019-05</span></code></pre></div>
<hr>
</div>
</div>
<div id="convert_comtrade" class="section level2">
<h2 class="hasAnchor">
<a href="#convert_comtrade" class="anchor"></a><code>convert_Comtrade()</code>
</h2>
<p>Sometimes you might want to reclassify trade data to a different nomenclature. Function <code><a href="reference/convert_Comtrade.html">convert_Comtrade()</a></code> offers a simple way for such conversions by providing official concordance tables from <a href="https://unstats.un.org/unsd/classifications/Econ#corresp-hs">UN Statistics Division (UNSD)</a> and the <a href="https://wits.worldbank.org/product_concordance.html">World Integrated Trade Solution (WITS)</a>. For the full documentation, type <code><a href="reference/convert_Comtrade.html">?convert_Comtrade</a></code> in R or visit the reference section of <code><a href="reference/convert_Comtrade.html">convert_Comtrade()</a></code>.</p>
<div id="example-1-2" class="section level3">
<h3 class="hasAnchor">
<a href="#example-1-2" class="anchor"></a>Example 1</h3>
<p>Say, you want to convert the trade data you downloaded before using <code><a href="reference/download_Comtrade.html">download_Comtrade()</a></code> from <code>H3</code> to the <em>Revision 3 standard</em> of the <em>International Standard Industrial Classification (ISIC)</em> nomenclature, i.e. <code>I3</code>, you can use the abbreviations and information from the <a href="#concordance-table">Concordance Table</a> to do so by running the command below. You can obtain more information on the concordance between <code>H3</code> and <code>I3</code> by running <code><a href="reference/H3_I3.html">?H3_I3</a></code> in R. Furthermore, please note that for any non-matched category, a warning message is returned.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">I3</span> <span class="op">&lt;-</span> <span class="va">AT_World</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/convert_Comtrade.html">convert_Comtrade</a></span><span class="op">(</span>
    classification.from <span class="op">=</span> <span class="st">"HS2007"</span>,
    commodity.code <span class="op">=</span> <span class="st">"commodity_code"</span>,
    classification.to <span class="op">=</span> <span class="st">"I3"</span>
  <span class="op">)</span>
<span class="co">#&gt; Warning in convert_Comtrade(., classification.from = "HS2007", commodity.code</span>
<span class="co">#&gt; = "commodity_code", : The following commodity codes of column 'commodity_code'</span>
<span class="co">#&gt; could not be matched: 999999.</span>
<span class="va">I3</span> <span class="op">%&gt;%</span>
  <span class="fu">select</span><span class="op">(</span><span class="va">classification</span>, <span class="va">commodity_code</span>, <span class="va">`ISIC Revision 3 Product Code`</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 9,432 x 3</span>
<span class="co">#&gt;    classification commodity_code `ISIC Revision 3 Product Code`</span>
<span class="co">#&gt;    &lt;chr&gt;          &lt;chr&gt;          &lt;chr&gt;                         </span>
<span class="co">#&gt;  1 H3             010110         0121                          </span>
<span class="co">#&gt;  2 H3             010190         0121                          </span>
<span class="co">#&gt;  3 H3             010190         0121                          </span>
<span class="co">#&gt;  4 H3             010210         0121                          </span>
<span class="co">#&gt;  5 H3             010210         0121                          </span>
<span class="co">#&gt;  6 H3             010290         0121                          </span>
<span class="co">#&gt;  7 H3             010290         0121                          </span>
<span class="co">#&gt;  8 H3             010310         0122                          </span>
<span class="co">#&gt;  9 H3             010310         0122                          </span>
<span class="co">#&gt; 10 H3             010391         0122                          </span>
<span class="co">#&gt; # ... with 9,422 more rows</span></code></pre></div>
</div>
<div id="example-2-2" class="section level3">
<h3 class="hasAnchor">
<a href="#example-2-2" class="anchor"></a>Example 2</h3>
<p>Note that the different building blocks of <code>comtradeRggregator</code> can be chained together very conveniently using the pipe, <code>%&gt;%</code>, operator. In the example below we want to download <code>HS2017</code> trade data for the year 2018 and convert it to the ISIC Rev. 3, <code>I3</code>, standard. Such operations are typically rather cumbersome with either <a href="https://comtrade.un.org">Comtrade</a> or <a href="https://wits.worldbank.org/">WITS</a> but can be achieved in a couple of lines of code with <code>comtradeRggregator</code> as illustrated below.</p>
<p>As before, we exploit the information provided in the <a href="#concordance-table">Concordance Table</a> to first download <code>HS2017</code> data, then convert it to <code>HS3</code>, and then again from <code>HS3</code> to <code>I3</code>. Note that the input arguments for <code>tradecode</code> and <code>classification.from</code> and <code>classification.to</code> accept both names and abbreviations for the respective <code>tradecode</code> standards as provided in table <a href="#trade-classifications">Trade Classification</a>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Step 1: Extract data from Comtrade</span>
<span class="fu"><a href="reference/download_Comtrade.html">download_Comtrade</a></span><span class="op">(</span>
  year <span class="op">=</span> <span class="st">"2018"</span>,
  frequency <span class="op">=</span> <span class="st">"annual"</span>,
  countries <span class="op">=</span> <span class="st">"Austria"</span>,
  partners <span class="op">=</span> <span class="st">"World"</span>,
  tradecode <span class="op">=</span> <span class="st">"HS2017"</span>,
  ag <span class="op">=</span> <span class="st">"AG6"</span>,
  type <span class="op">=</span> <span class="st">"commodities"</span>,
  select.stats <span class="op">=</span> <span class="st">"trade_value_usd"</span>,
  direction <span class="op">=</span> <span class="st">"exports"</span>
<span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="co"># Step 2: Convert from HS2012/H4 to HS2007/H3</span>
  <span class="fu"><a href="reference/convert_Comtrade.html">convert_Comtrade</a></span><span class="op">(</span>
    classification.from <span class="op">=</span> <span class="st">"H5"</span>,
    commodity.code <span class="op">=</span> <span class="st">"commodity_code"</span>,
    classification.to <span class="op">=</span> <span class="st">"HS2007"</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="co"># Step 3: Convert from HS2012/H4 to HS2007/H3</span>
  <span class="fu"><a href="reference/convert_Comtrade.html">convert_Comtrade</a></span><span class="op">(</span>
    classification.from <span class="op">=</span> <span class="st">"H3"</span>,
    commodity.code <span class="op">=</span> <span class="st">"HS 2007 Product Code"</span>,
    classification.to <span class="op">=</span> <span class="st">"I3"</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">select</span><span class="op">(</span>
    `Original Comtrade Query` <span class="op">=</span> <span class="va">classification</span>,
    `HS 2017 Product Code` <span class="op">=</span> <span class="va">commodity_code</span>,
    <span class="va">`HS 2007 Product Code`</span>, <span class="va">`ISIC Revision 3 Product Code`</span>
  <span class="op">)</span>
<span class="co">#&gt; # A tibble: 4,876 x 4</span>
<span class="co">#&gt;    `Original Comtrade~ `HS 2017 Product ~ `HS 2007 Product~ `ISIC Revision 3 Pr~</span>
<span class="co">#&gt;    &lt;chr&gt;               &lt;chr&gt;              &lt;chr&gt;             &lt;chr&gt;               </span>
<span class="co">#&gt;  1 H5                  010121             010110            0121                </span>
<span class="co">#&gt;  2 H5                  010129             010190            0121                </span>
<span class="co">#&gt;  3 H5                  010221             010210            0121                </span>
<span class="co">#&gt;  4 H5                  010229             010290            0121                </span>
<span class="co">#&gt;  5 H5                  010310             010310            0122                </span>
<span class="co">#&gt;  6 H5                  010391             010391            0122                </span>
<span class="co">#&gt;  7 H5                  010392             010392            0122                </span>
<span class="co">#&gt;  8 H5                  010410             010410            0121                </span>
<span class="co">#&gt;  9 H5                  010420             010420            0121                </span>
<span class="co">#&gt; 10 H5                  010511             010511            0122                </span>
<span class="co">#&gt; # ... with 4,866 more rows</span></code></pre></div>
<hr>
</div>
</div>
<div id="build_comtrade" class="section level2">
<h2 class="hasAnchor">
<a href="#build_comtrade" class="anchor"></a><code>build_Comtrade()</code>
</h2>
<p>Sometimes you might want to rebuild a data set using the temporary data files you downloaded from Comtrade. For example, you can use function <code><a href="reference/build_Comtrade.html">build_Comtrade()</a></code> whenever you have a very large data query which you would like to run over multiple days (and turn off your computer in the meantime) before building the finale Comtrade data base. In such a case you would set <code>rm.temporaryFiles = FALSE</code> when running <code><a href="reference/download_Comtrade.html">download_Comtrade()</a></code> and then, after you have run all your queries, you would then point <code><a href="reference/build_Comtrade.html">build_Comtrade()</a></code> to the location of all your temporary data files. A more practical example is provided in the next paragraph. For the full documentation, type <code><a href="reference/build_Comtrade.html">?build_Comtrade</a></code> in R or visit the reference section of <code><a href="reference/build_Comtrade.html">build_Comtrade()</a></code>.</p>
<div id="example-1-3" class="section level3">
<h3 class="hasAnchor">
<a href="#example-1-3" class="anchor"></a>Example 1</h3>
<p>Recall that when downloading the data frame <code>mirrX_AT_DE</code> we triggered the option <code>rm.temporaryFiles = FALSE</code> and R told us that the temporary file will be stored in:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">system.file</span>(<span class="st">"data/tmp"</span>, <span class="at">package =</span> <span class="st">"comtradeRggregator"</span>)</span></code></pre></div>
<p>We now use function <code><a href="reference/build_Comtrade.html">build_Comtrade()</a></code> in such cases where argument <code>directory</code> takes the location of a specific, temporary data folder as input argument. The remaining arguments correspond to the arguments in <code><a href="reference/download_Comtrade.html">download_Comtrade()</a></code> and have to be adjusted accordingly in case you want to divert from the defaults. For example, in case you want to delete the temporary files when using <code><a href="reference/build_Comtrade.html">build_Comtrade()</a></code>, set <code>rm.temporaryFiles = TRUE</code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Location of temporary data download</span>
<span class="va">location_package</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"data/tmp"</span>, package <span class="op">=</span> <span class="st">"comtradeRggregator"</span><span class="op">)</span>
<span class="va">location_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html">list.files</a></span><span class="op">(</span><span class="va">location_package</span><span class="op">)</span>

<span class="co"># Rebuilt mirrored exports from Austria to Germany in 2018</span>
<span class="va">mirrX_AT_DE_rebuilt</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/build_Comtrade.html">build_Comtrade</a></span><span class="op">(</span>
  directory <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">location_package</span>, <span class="va">location_files</span>, sep <span class="op">=</span> <span class="st">"/"</span><span class="op">)</span>
<span class="op">)</span>

<span class="co"># Confirm that identical</span>
<span class="va">mirrX_AT_DE</span> <span class="op">%&gt;%</span>
  <span class="fu">summarise</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">trade_value_usd</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">pull</span><span class="op">(</span><span class="op">)</span> <span class="op">/</span> <span class="va">mirrX_AT_DE_rebuilt</span> <span class="op">%&gt;%</span>
    <span class="fu">summarise</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">trade_value_usd</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">pull</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] 1</span></code></pre></div>
<hr>
</div>
</div>
<div id="add_lzs" class="section level2">
<h2 class="hasAnchor">
<a href="#add_lzs" class="anchor"></a><code>add_lzs()</code>
</h2>
<p>Adds leading zeros to variable <code>var</code> of data frame such that <code>nchar(var) = length</code>. For the full documentation, type <code><a href="reference/add_lzs.html">?add_lzs</a></code> in R or visit the reference section of <code><a href="reference/add_lzs.html">add_lzs()</a></code>.</p>
<div id="example-1-4" class="section level4">
<h4 class="hasAnchor">
<a href="#example-1-4" class="anchor"></a>Example 1</h4>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span>var <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"1"</span>, <span class="st">"11"</span>, <span class="st">"111"</span><span class="op">)</span><span class="op">)</span>

<span class="va">df</span> <span class="op">%&gt;%</span> <span class="fu"><a href="reference/add_lzs.html">add_lzs</a></span><span class="op">(</span>variable <span class="op">=</span> <span class="st">"var"</span>, variable.length <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 3 x 1</span>
<span class="co">#&gt;   var  </span>
<span class="co">#&gt;   &lt;chr&gt;</span>
<span class="co">#&gt; 1 001  </span>
<span class="co">#&gt; 2 011  </span>
<span class="co">#&gt; 3 111</span></code></pre></div>
<hr>
</div>
</div>
<div id="rm_temporaryfiles" class="section level2">
<h2 class="hasAnchor">
<a href="#rm_temporaryfiles" class="anchor"></a><code>rm_temporaryFiles()</code>
</h2>
<p>Remove all temporary files and folders For the full documentation, type <code><a href="reference/rm_temporaryFiles.html">?rm_temporaryFiles</a></code> in R or visit the reference section of <code><a href="reference/rm_temporaryFiles.html">rm_temporaryFiles()</a></code>.</p>
<div id="example-1-5" class="section level3">
<h3 class="hasAnchor">
<a href="#example-1-5" class="anchor"></a>Example 1</h3>
<p>If there exist temporary files to be deleted, function <code><a href="reference/rm_temporaryFiles.html">rm_temporaryFiles()</a></code> returns:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/rm_temporaryFiles.html">rm_temporaryFiles</a></span><span class="op">(</span>location.temporaryFiles <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>
<span class="co">#&gt; Temporary files deleted.</span></code></pre></div>
</div>
<div id="example-2-3" class="section level3">
<h3 class="hasAnchor">
<a href="#example-2-3" class="anchor"></a>Example 2</h3>
<p>If there are no temporary files to be deleted, function <code><a href="reference/rm_temporaryFiles.html">rm_temporaryFiles()</a></code> returns:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/rm_temporaryFiles.html">rm_temporaryFiles</a></span><span class="op">(</span>location.temporaryFiles <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>
<span class="co">#&gt; Temporary directory already empty. Nothing to delete.</span></code></pre></div>
<hr>
</div>
</div>
</div>
<div id="credits-and-related-projects" class="section level1">
<h1 class="hasAnchor">
<a href="#credits-and-related-projects" class="anchor"></a>Credits and related projects</h1>
<ul>
<li>The hex sticker was generated by myself using the <a href="https://github.com/GuangchuangYu/hexSticker">hexSticker</a> package.</li>
<li>
<code>comtradeRggregator</code> uses the R package <a href="https://github.com/ropensci/comtradr">comtradr</a> to download <a href="https://comtrade.un.org">Comtrade trade data</a> using <a href="https://comtrade.un.org/data/doc/api/">Comtrade’s API</a>.</li>
<li>Integrated concordance tables taken from the <a href="https://unstats.un.org/unsd/trade/classifications/correspondence-tables.asp">United Nations Statistical Division (UNSD)</a> and the <a href="https://wits.worldbank.org/product_concordance.html">World Integrated Trade Solution (WITS)</a>.</li>
</ul>
<hr>
</div>
<div id="footnotes" class="section level1">
<h1 class="hasAnchor">
<a href="#footnotes" class="anchor"></a>Footnotes</h1>
<p><a name="fn1">1</a>: Note that we set <code>rm.temporaryFiles = FALSE</code> in the second query to demonstrate (i) how to <a href="https://github.com/amannj/comtradeRggregator#build_comtrade">rebuild trade data set using temporary data files using <code>build_Comtrade()</code></a> , and (ii) the <a href="https://github.com/amannj/comtradeRggregator#rm_temporaryfiles">different return messages for <code>rm_temporaryFiles()</code></a>.</p>
<p><a name="fn2">2</a>: The same is true for <code><a href="reference/download_Comtrade.html">download_Comtrade()</a></code>. In other words, both <code><a href="reference/download_Comtrade.html">download_Comtrade()</a></code> and <code><a href="reference/is.available_Comtrade.html">is.available_Comtrade()</a></code> will check the time stamp of the internally stored Comtrade Data Availability file and update it once a day using the official <a href="https://comtrade.un.org/data/da">Comtrade Data Availability</a> file. For further reference, the locally stored Comtrade Data Availability file can be accessed by typing <code>Comtrade_DA</code>, and the help page can be accessed by typing <code><a href="reference/Comtrade_DA.html">?Comtrade_DA</a></code>.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/amannj/comtradeRggregator/">https://​github.com/​amannj/​comtradeRggregator/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/amannj/comtradeRggregator/issues">https://​github.com/​amannj/​comtradeRggregator/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing comtradeRggregator</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://amannj.github.io">Juergen Amann</a> <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/amannj/comtradeRggregator"><img src="https://img.shields.io/badge/comtradeRggregator-v0.0.1-blue" alt="Status_Badge"></a></li>
<li><a href="https://codecov.io/gh/amannj/comtradeRggregator"><img src="https://codecov.io/gh/amannj/comtradeRggregator/branch/master/graph/badge.svg?token=03GW9TJP27" alt="codecov"></a></li>
<li><a href="https://github.com/amannj/comtradeRggregator/actions"><img src="https://github.com/amannj/comtradeRggregator/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://amannj.github.io">Juergen Amann</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
