<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chaining concordance tables • comtradeRggregator</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="Chaining concordance tables">
<meta property="og:description" content="comtradeRggregator">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">comtradeRggregator</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../../articles/comtradeRggregator.html">Get started</a>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/articles/chaining-concordance-tables.html">Chaining concordance tables</a>
    </li>
    <li>
      <a href="../../articles/articles/extracting-aggregates.html">Extracting aggregated trade data</a>
    </li>
    <li>
      <a href="../../articles/articles/handling-errors.html">Handling error messages</a>
    </li>
    <li>
      <a href="../../articles/articles/mirror-data.html">Working with mirror data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/amannj/comtradeRggregator/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="chaining-concordance-tables_files/header-attrs-2.11/header-attrs.js"></script><script src="chaining-concordance-tables_files/kePrint-0.0.1/kePrint.js"></script><link href="chaining-concordance-tables_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Chaining concordance tables</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/amannj/comtradeRggregator/blob/master/vignettes/articles/chaining-concordance-tables.Rmd"><code>vignettes/articles/chaining-concordance-tables.Rmd</code></a></small>
      <div class="hidden name"><code>chaining-concordance-tables.Rmd</code></div>

    </div>

    
    
<p><code>comtradeRggregator</code> provides an option for easy reclassification of trade data using official concordance tables from the <a href="https://unstats.un.org/unsd/trade/classifications/correspondence-tables.asp">United Nations Statistical Division (UNSD)</a> and the <a href="https://wits.worldbank.org/product_concordance.html">World Integrated Trade Solution (WITS)</a>; see <a href="https://amannj.github.io/resources/comtradeRggregator/index.html#concordance-table">Concordance Table</a> below. To access the respective concordance tables in R, type <code>&lt;tradecode from&gt;_&lt;tradecode to&gt;</code>. For example, the concordance table for reclassifying <code>H3</code> trade data according to the <code>H0</code> nomenclature is stored as object <code>H3_H0</code> and its R help file can be accessed by typing <code><a href="../../reference/H3_H0.html">?H3_H0</a></code>.</p>
<p>However, in some cases no official concordance tables between two standards are available. For example, there is no direct concordance for reclassifying <code>H4</code> trade data to <code>MTN</code>.</p>
<table class="table table">
<caption style="font-size: initial !important;">
Table 1: Concordance Table
</caption>
<thead>
<tr>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
From…
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="20">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
…to
</div>
</th>
</tr>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
BEC
</div>
</th>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="3">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="5">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Harmonised System
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
ISIC
</div>
</th>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="2">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
SITC
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
BEC4
</th>
<th style="text-align:left;">
BEC5
</th>
<th style="text-align:left;">
CCCN
</th>
<th style="text-align:left;">
CPC
</th>
<th style="text-align:left;">
GTAP
</th>
<th style="text-align:left;">
H0
</th>
<th style="text-align:left;">
H1
</th>
<th style="text-align:left;">
H2
</th>
<th style="text-align:left;">
H3
</th>
<th style="text-align:left;">
H4
</th>
<th style="text-align:left;">
I2
</th>
<th style="text-align:left;">
I3
</th>
<th style="text-align:left;">
I31
</th>
<th style="text-align:left;">
I4
</th>
<th style="text-align:left;">
MTN
</th>
<th style="text-align:left;">
SIC
</th>
<th style="text-align:left;">
S1
</th>
<th style="text-align:left;">
S2
</th>
<th style="text-align:left;">
S3
</th>
<th style="text-align:left;">
S4
</th>
</tr>
</thead>
<tbody>
<tr grouplength="7">
<td colspan="21" style="border-bottom: 1px solid;">
<strong>Harmonised System (HS)</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
HS
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
H0
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
H1
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
H2
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
H3
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
W/U
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
H4
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
H5
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
x<sup>a</sup>
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
</tr>
<tr grouplength="4">
<td colspan="21" style="border-bottom: 1px solid;">
<strong>Standard International Trade Classification (SITC)</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
S1
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
S2
</td>
<td style="text-align:left;">
W/U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
W
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
S3
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
S4
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
</tr>
<tr grouplength="3">
<td colspan="21" style="border-bottom: 1px solid;">
<strong>International Standard Industrial Classification (ISIC)</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
I2
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
I3
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
I3.1
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
U
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
<td style="text-align:left;">
.
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<span style="font-style: italic;">Note: </span> <sup></sup> W for WITS; U for UN-Stats.
</td>
</tr>
<tr>
<td style="padding: 0; " colspan="100%">
<span style="font-style: italic;">x</span> <sup>a</sup> : Example for concordance across seemingly unrelated classifications: H5 &gt;&gt; H3 &gt;&gt; I3.
</td>
</tr>
</tfoot>
</table>
<hr>
<div id="practical-examples" class="section level1">
<h1 class="hasAnchor">
<a href="#practical-examples" class="anchor"></a>Practical examples</h1>
<p>It goes without saying that in an ideal world, one would prefer to download and convert trade data for which there exists an official concordance table, as this will always give you identical or better results than when chaining concordance tables. There are, however, situations, where this might not be possible, and we need to resort to the chaining of concordance tables to get from a<br>
particular desired classification to another one.</p>
<p>The subsequent section should therefore be read as a set of (not comprehensive) examples of how to chain concordance tables using <code>comtradeRggregator</code> without any guarantee that this will (always) produce sensible results.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/amannj/comtradeRggregator">comtradeRggregator</a></span><span class="op">)</span></code></pre></div>
<hr>
</div>
<div id="concordance-h4-to-mtn" class="section level1">
<h1 class="hasAnchor">
<a href="#concordance-h4-to-mtn" class="anchor"></a>Concordance <code>H4</code> to <code>MTN</code>
</h1>
<p>For this example, we start with a data extract following the <code>HS 2012</code> (<code>H4</code>) nomenclature, which we want to convert to the <code>Multilateral Trade Negotiations</code> (<code>MTN</code>) standard. As illustrated in the <a href="https://amannj.github.io/resources/comtradeRggregator/index.html#concordance-table">Concordance Table</a> above, there is no designated concordance table available. We can, however, use the fact that</p>
<ul>
<li>there is a designated concordance table between <code>H4</code> and <code>H3</code>;</li>
<li>there is another designated concordance table between <code>H3</code> and <code>MTN</code>.</li>
</ul>
<p>Consequently, we can create our own <code>H4</code> to <code>MTN</code> classification by following the steps below:</p>
<ol style="list-style-type: decimal">
<li>Download Comtrade data using <code><a href="../../reference/download_Comtrade.html">download_Comtrade()</a></code>;</li>
<li>Use <code><a href="../../reference/convert_Comtrade.html">convert_Comtrade()</a></code> to convert trade data from <code>H4</code> to <code>H3</code>;</li>
<li>Use <code><a href="../../reference/convert_Comtrade.html">convert_Comtrade()</a></code> again to convert from <code>H3</code> to <code>MTN</code>.</li>
</ol>
<div id="step-by-step" class="section level3">
<h3 class="hasAnchor">
<a href="#step-by-step" class="anchor"></a>Step by step</h3>
<div id="step-1--download-comtrade-data-using-download_comtrade" class="section level4">
<h4 class="hasAnchor">
<a href="#step-1--download-comtrade-data-using-download_comtrade" class="anchor"></a>Step 1. Download Comtrade data using <code>download_Comtrade()</code>
</h4>
<p>Let’s again assume we want to download <code>annual</code> global, i.e. <code>World</code>, <code>commodity</code> trade data in <code>USD</code> following the <code>HS2012</code> nomenclature for <code>exports</code> at <code>AG6</code> level reported by <code>Austria</code> in <code>2018</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">AT_World_H4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/download_Comtrade.html">download_Comtrade</a></span><span class="op">(</span>
  year <span class="op">=</span> <span class="st">"2018"</span>,
  frequency <span class="op">=</span> <span class="st">"annual"</span>,
  countries <span class="op">=</span> <span class="st">"Austria"</span>,
  partners <span class="op">=</span> <span class="st">"World"</span>,
  nomenclature <span class="op">=</span> <span class="st">"HS2012"</span>,
  commodity <span class="op">=</span> <span class="st">"AG6"</span>,
  type <span class="op">=</span> <span class="st">"commodities"</span>,
  select.stats <span class="op">=</span> <span class="st">"trade_value_usd"</span>,
  direction <span class="op">=</span> <span class="st">"exports"</span>
<span class="op">)</span></code></pre></div>
</div>
<div id="step-2--use-convert_comtrade-to-convert-trade-data-from-h4-to-h3" class="section level4">
<h4 class="hasAnchor">
<a href="#step-2--use-convert_comtrade-to-convert-trade-data-from-h4-to-h3" class="anchor"></a>Step 2. Use <code>convert_Comtrade()</code> to convert trade data from <code>H4</code> to <code>H3</code>
</h4>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">AT_World_H4_H3</span> <span class="op">&lt;-</span> <span class="va">AT_World_H4</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../../reference/convert_Comtrade.html">convert_Comtrade</a></span><span class="op">(</span>
    classification.from <span class="op">=</span> <span class="st">"H4"</span>,
    classification.to <span class="op">=</span> <span class="st">"H3"</span>
  <span class="op">)</span>
<span class="co">#&gt; Warning in convert_Comtrade(., classification.from = "H4", classification.to</span>
<span class="co">#&gt; = "H3"): The following commodity codes of column 'commodity_code' could not be</span>
<span class="co">#&gt; matched: 999999.</span></code></pre></div>
<p>As you can see, <code><a href="../../reference/convert_Comtrade.html">convert_Comtrade()</a></code> informs you that commodity code <code>999999 - Commodities not specified according to kind</code> contained in <code>AT_World_H4</code> could not be matched to any <code>H3</code> classification. In the given example, this is fine as this particular commodity code belongs to a “catch-all” category of otherwise unspecified commodities:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">AT_World_H4_H3</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">commodity_code</span> <span class="op">==</span> <span class="st">"999999"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">commodity_code</span>, <span class="va">commodity</span>, <span class="va">`HS 2007 Product Code`</span>, <span class="va">trade_value_usd</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 x 4</span>
<span class="co">#&gt;   commodity_code commodity                   `HS 2007 Product C~ trade_value_usd</span>
<span class="co">#&gt;   &lt;chr&gt;          &lt;chr&gt;                       &lt;chr&gt;                         &lt;dbl&gt;</span>
<span class="co">#&gt; 1 999999         Commodities not specified ~ &lt;NA&gt;                     9378867200</span></code></pre></div>
<p>We lose this “catch-all” category during the conversion step, and you should always double-check to make sure you do not ‘lose too many’ commodity groups when converting between standards.</p>
</div>
<div id="step-3--use-convert_comtrade-again-to-convert-from-h3-to-mtn" class="section level4">
<h4 class="hasAnchor">
<a href="#step-3--use-convert_comtrade-again-to-convert-from-h3-to-mtn" class="anchor"></a>Step 3. Use <code>convert_Comtrade()</code> again to convert from <code>H3</code> to <code>MTN</code>
</h4>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">AT_World_H4_H3_MTN</span> <span class="op">&lt;-</span> <span class="va">AT_World_H4_H3</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../../reference/convert_Comtrade.html">convert_Comtrade</a></span><span class="op">(</span>
    classification.from <span class="op">=</span> <span class="st">"H3"</span>,
    classification.to <span class="op">=</span> <span class="st">"MTN"</span>
  <span class="op">)</span>
<span class="co">#&gt; Warning in convert_Comtrade(., classification.from = "H3", classification.to =</span>
<span class="co">#&gt; "MTN"): The following commodity codes of column 'commodity_code' could not be</span>
<span class="co">#&gt; matched: 010121, 010129, 010221, 010229, 010649, 020741, 020742, 020743, 020744,</span>
<span class="co">#&gt; 020745, 020751, 020752, 020753, 020754, 020755, 020760, 020910, 020990, 030111,</span>
<span class="co">#&gt; 030213, 030214, 030224, 030241, 030242, 030243, 030244, 030245, 030246, 030247,</span>
<span class="co">#&gt; 030251, 030252, 030254, 030259, 030271, 030272, 030273, 030274, 030279, 030281,</span>
<span class="co">#&gt; 030284, 030285, 030289, 030290, 030312, 030313, 030314, 030323, 030324, 030325,</span>
<span class="co">#&gt; 030334, 030353, 030354, 030356, 030363, 030367, 030381, 030384, 030389, 030390,</span>
<span class="co">#&gt; 030431, 030432, 030433, 030439, 030441, 030442, 030443, 030444, 030445, 030449,</span>
<span class="co">#&gt; 030451, 030459, 030461, 030462, 030463, 030469, 030471, 030473, 030474, 030475,</span>
<span class="co">#&gt; 030479, 030481, 030482, 030483, 030486, 030487, 030489, 030493, 030495, 030531,</span>
<span class="co">#&gt; 030532, 030539, 030543, 030544, 030572, 030579, 030615, 030616, 030617, 030625,</span>
<span class="co">#&gt; 030626, 030627, 030711, 030719, 030771, 030779, 030781, 030821, 030890, 040140,</span>
<span class="co">#&gt; 040150, 040711, 040721, 040729, 040790, 060315, 060420, 060490, 070991, 070992,</span>
<span class="co">#&gt; 070993, 070999, 071334, 071430, 071440, 080112, 080241, 080242, 080251, 080252,</span>
<span class="co">#&gt; 080261, 080262, 080270, 080310, 080390, 080830, 080840, 080921, 080929, 081030,</span>
<span class="co">#&gt; 081070, 090421, 090422, 090510, 090520, 090710, 090720, 090811, 090812, 090821,</span>
<span class="co">#&gt; 090822, 090831, 090832, 090921, 090922, 090931, 090932, 090961, 090962, 091011,</span>
<span class="co">#&gt; 091012, 100111, 100119, 100191, 100199, 100210, 100290, 100310, 100390, 100410,</span>
<span class="co">#&gt; 100490, 100710, 100790, 100821, 100829, 100850, 100860, 120110, 120190, 120230,</span>
<span class="co">#&gt; 120241, 120242, 120760, 120770, 121221, 121229, 121292, 121294, 130219, 150110,</span>
<span class="co">#&gt; 150120, 150190, 150210, 150290, 160417, 160431, 160432, 160521, 160529, 160551,</span>
<span class="co">#&gt; 160552, 160553, 160554, 160555, 160556, 160558, 160559, 160561, 160569, 170113,</span>
<span class="co">#&gt; 170114, 200893, 200897, 200981, 200989, 240311, 240319, 252800, 271012, 271020,</span>
<span class="co">#&gt; 285210, 285290, 290377, 290379, 290382, 290389, 290391, 290392, 290399, 293110,</span>
<span class="co">#&gt; 293190, 293220, 370296, 370297, 370298, 382600, 440131, 440139, 480840, 580127,</span>
<span class="co">#&gt; 580137, 630690, 640690, 650500, 731940, 741810, 761510, 847979, 850750, 850760,</span>
<span class="co">#&gt; 852341, 852349, 871410, 900710, 900850, 910910, 930110, 930520, 950450, 960830,</span>
<span class="co">#&gt; 961900, 999999.</span></code></pre></div>
<p>Here you can see that in the last step, <code><a href="../../reference/convert_Comtrade.html">convert_Comtrade()</a></code> has more difficulties matching the respective commodity codes to <code>MTN</code> aggregates.</p>
<p>Is this problem the result of chaining concordance tables? We explore this in the next section.</p>
</div>
</div>
<div id="how-good-is-the-h4-to-mtn-concordance" class="section level3">
<h3 class="hasAnchor">
<a href="#how-good-is-the-h4-to-mtn-concordance" class="anchor"></a>How good is the <code>H4</code> to <code>MTN</code> concordance?</h3>
<p>In the table below, we compare the results of the different conversion steps where we look at the trade volume of exports (in USD) of <code>AT_World_H4</code> (the baseline) vs. <code>AT_World_H4_H3</code> and <code>AT_World_H4_H3_MTN</code>. We want to know how much of the baseline data is lost during the different conversion steps. The two metrics for this are</p>
<ul>
<li>the absolute difference between the trade volume of exports (in USD) after each reclassification vs. the baseline; and</li>
<li>the percentage difference of the same aggregates.</li>
</ul>
<p>As we want to compare the quality of the results when using chained concordance tables (and not the quality of the official concordance table between <code>H3</code> and <code>MTN</code>), we also download <code>H3</code> trade data directly and convert it to <code>MTN</code> using official concordance tables only (i.e. no chaining of concordance tables).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">AT_World_H3_MTN</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/download_Comtrade.html">download_Comtrade</a></span><span class="op">(</span>
  year <span class="op">=</span> <span class="st">"2018"</span>,
  frequency <span class="op">=</span> <span class="st">"annual"</span>,
  countries <span class="op">=</span> <span class="st">"Austria"</span>,
  partners <span class="op">=</span> <span class="st">"World"</span>,
  nomenclature <span class="op">=</span> <span class="st">"HS2007"</span>,
  commodity <span class="op">=</span> <span class="st">"AG6"</span>,
  type <span class="op">=</span> <span class="st">"commodities"</span>,
  select.stats <span class="op">=</span> <span class="st">"trade_value_usd"</span>,
  direction <span class="op">=</span> <span class="st">"exports"</span>
<span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../../reference/convert_Comtrade.html">convert_Comtrade</a></span><span class="op">(</span>
    classification.from <span class="op">=</span> <span class="st">"H3"</span>,
    classification.to <span class="op">=</span> <span class="st">"MTN"</span>
  <span class="op">)</span></code></pre></div>
<p>As Table 2 below illustrates, the conversion from <code>H4</code> to <code>H3</code> results in a loss of roughly five percentage points of trade data. The difference in the sums is exclusively due to <code>999999 - Commodities not specified according to kind</code> as established before. Chaining concordance tables results in a total loss of 8 percentage points which is indeed notable. However, as <code>AT_World_H3_MTN</code> indicates, this loss is mostly due to the unmapped category <code>999999 - Commodities not specified according to kind</code>, and not the result of chaining concordance tables.</p>
<p>In other words, chaining concordance tables to transform <code>H4</code> trade data to the <code>MTN</code> classification does seem to produce sensible results based on the explored example.</p>
<table class="table table">
<caption>
Table 2: Comparison concordance results
</caption>
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
<code>AT_World_H4</code>
</th>
<th style="text-align:left;">
<code>AT_World_H4_H3</code>
</th>
<th style="text-align:left;">
<code>AT_World_H4_H3_MTN</code>
</th>
<th style="text-align:left;">
<code>AT_World_H3_MTN</code>
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Trade value (in USD)
</td>
<td style="text-align:left;">
176991968253
</td>
<td style="text-align:left;">
167613101053
</td>
<td style="text-align:left;">
163376410965
</td>
<td style="text-align:left;">
167601566255
</td>
</tr>
<tr>
<td style="text-align:left;">
Absolute difference to <code>AT_World_H4</code> (in USD)
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
9378867200
</td>
<td style="text-align:left;">
13615557288
</td>
<td style="text-align:left;">
9390401998
</td>
</tr>
<tr>
<td style="text-align:left;">
Share in <code>AT_World_H4</code> (%)
</td>
<td style="text-align:left;">
100
</td>
<td style="text-align:left;">
95
</td>
<td style="text-align:left;">
92
</td>
<td style="text-align:left;">
95
</td>
</tr>
</tbody>
</table>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://amannj.github.io">Juergen Amann</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
